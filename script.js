/* =========================================================
   VEMA — Home bilingual + small helpers
   ========================================================= */

const I18N = {
  sr: {
    // NAV
    navPrograms: "Programi",
    navEarlyMusicDay: "Dan rane muzike",
    navBridgeCantata: "Bridge Cantata",
    navMenu: "Meni",
    menuPartners: "Partneri",
    menuMedia: "Mediji",
    menuSupport: "Podrška",
    menuContact: "Kontakt",

    // HERO
    heroTitle: "Rana muzika u Vojvodini — izvođena, podučavana i deljena.",
    heroLead:
      "VEMA povezuje umetnike, publiku i kulturno nasleđe kroz koncerte, edukaciju i projekte zasnovane na istraživanju u Novom Sadu i šire.",
    heroBtnEvents: "Najave",
    heroBtnContact: "Kontakt",

    // HERO CARD
    heroCardTitle: "Pratite novosti",
    heroCardText: "Prijavite se za najave koncerata i vesti o projektima.",
    heroCardBtn: "Prijava",
    heroCardFineprint: "Bez spama. Odjava u bilo kom trenutku.",

    // ABOUT
    aboutTitle: "O VEMA",
    aboutIntro:
      "Vojvođansko udruženje za ranu muziku (VEMA) je platforma za istorijski informisano izvođenje i edukaciju, ukorenjena u lokalnom nasleđu i povezana sa evropskim mrežama.",
    aboutMissionTitle: "Misija",
    aboutMissionText:
      "Oživljavanje i predstavljanje rane muzike kroz kvalitetne koncerte, masterklasove i istraživanje, uz jačanje kulturnog života u Novom Sadu i Vojvodini.",
    aboutFocusTitle: "Šta radimo",
    aboutBullet1: "Produkcija koncerata i festivalskih programa u istorijskim prostorima",
    aboutBullet2: "Edukativne aktivnosti i podrška mladim muzičarima",
    aboutBullet3: "Međunarodne saradnje i projekti kulturnog nasleđa",
    aboutQuote:
      "„Rana muzika nije muzejski predmet — ona je živi jezik koji postaje stvaran kada se deli sa zajednicom.”",

    // ACTIVITIES
    actTitle: "Aktivnosti",
    actIntro: "Tri stuba na kojima se zasniva naš rad.",
    actCard1Title: "Koncerti i festival",
    actCard1Text:
      "Kreiramo programe od renesanse do visokog baroka, u istorijski informisanom pristupu, sa domaćim i međunarodnim umetnicima.",
    actCard1Tag: "Dani Barokne Muzike",
    actCard2Title: "Edukacija",
    actCard2Text:
      "Masterklasovi, radionice i ansambl-trening. Podržavamo mlade muzičare kroz mentorstvo i pristup baroknim instrumentima kada je moguće.",
    actCard2Tag: "Novosadska Barokna Akademija",
    actCard3Title: "Istraživanje i nasleđe",
    actCard3Text:
      "Rad sa rukopisnim izvorima, povezivanje muzike sa prostorima i projekti koji ostavljaju trajnu kulturnu vrednost.",
    actCard3Tag: "Rezidencije · EU projekti",

    // EVENTS
    eventsTitle: "Najave",
    eventsIntro: "Dodajte predstojeće događaje i link ka prodaji karata.",
    eventsMonthMar: "Mar",
    eventsMonthMay: "Maj",
    event1Title: "Dan rane muzike — koncert",
    event1Text: "Javni koncert u Novom Sadu (detalji na stranici projekta).",
    event2Title: "Bridge Cantata — premijerno izvođenje",
    event2Text: "Bah BWV 106 + novo naručeno delo (uskoro više informacija).",
    eventLink: "Detalji →",
    eventsNote: "Želite arhivu? Ovo možemo pretvoriti u listu po godinama.",

    // MEDIA
    mediaTitle: "Mediji",
    mediaIntro: "Fotografije, video i materijali za medije.",
    mediaPhotosTitle: "Fotografije",
    mediaPhotosText: "Dodajte galeriju (možemo napraviti lightbox).",
    mediaVideoTitle: "Video",
    mediaVideoText: "Ubacite YouTube/Vimeo linkove ovde.",
    mediaPressTitle: "Press kit",
    mediaPressText: "Dodajte PDF (bio, logotipi, fotografije).",

    // SUPPORT
    supportTitle: "Podržite VEMA",
    supportIntro:
      "Vaša podrška omogućava naručivanje novih dela, gostovanja i edukativne programe u regionu.",
    supportWaysTitle: "Načini podrške",
    supportWay1: "Donacije (pojedinci)",
    supportWay2: "Sponzorstva (kompanije)",
    supportWay3: "Partnerstva i podrška u naturi (prostor, logistika, mediji)",
    supportContactTitle: "Javite nam se",
    supportContactText: "Pišite nam i poslaćemo opcije sponzorstva prema vašem budžetu.",
    supportBtn: "Kontakt",

    // CONTACT
    contactTitle: "Kontakt",
    contactIntro: "Za saradnje, koncerte, edukaciju i partnerstva.",
    contactEmailTitle: "Email",
    contactLocationTitle: "Lokacija",
    contactSocialTitle: "Mreže",
    contactSocialText: "Dodajte linkove ka Instagramu / Facebook-u / YouTube-u.",
    contactFormTitle: "Poruka",
    contactName: "Ime",
    contactEmail: "Email",
    contactMsg: "Poruka",
    contactSend: "Pošalji",
    contactFormNote:
      "Forma je trenutno neaktivna (bezbedan placeholder). Kasnije je povezujemo sa besplatnim servisom.",

    // FOOTER
    brandSubtitle: "Vojvođansko udruženje za ranu muziku",
    backToTop: "Nazad na vrh ↑"
  },

  en: {
    // NAV
    navPrograms: "Programs",
    navEarlyMusicDay: "Early Music Day",
    navBridgeCantata: "Bridge Cantata",
    navMenu: "Menu",
    menuPartners: "Partners",
    menuMedia: "Media",
    menuSupport: "Support",
    menuContact: "Contact",

    // HERO
    heroTitle: "Early music in Vojvodina — performed, taught, and shared.",
    heroLead:
      "VEMA connects artists, audiences, and cultural heritage through concerts, education, and research-led projects in Novi Sad and beyond.",
    heroBtnEvents: "Upcoming events",
    heroBtnContact: "Contact",

    // HERO CARD
    heroCardTitle: "Get updates",
    heroCardText: "Subscribe for concert announcements and project news.",
    heroCardBtn: "Subscribe",
    heroCardFineprint: "No spam. Unsubscribe anytime.",

    // ABOUT
    aboutTitle: "About VEMA",
    aboutIntro:
      "Vojvodinian Early Music Association (VEMA) is a platform for historically informed performance and education, rooted in local heritage and connected to European networks.",
    aboutMissionTitle: "Mission",
    aboutMissionText:
      "To revive and present early music through high-quality performances, masterclasses, and research, while strengthening cultural life in Novi Sad and Vojvodina.",
    aboutFocusTitle: "What we do",
    aboutBullet1: "Produce concerts and festival programs in historical venues",
    aboutBullet2: "Run educational activities and support young musicians",
    aboutBullet3: "Develop international collaborations and heritage projects",
    aboutQuote:
      "“Early music is not a museum piece — it’s a living language that becomes real when shared with today’s communities.”",

    // ACTIVITIES
    actTitle: "Activities",
    actIntro: "Three main pillars that structure our work.",
    actCard1Title: "Concerts & Festival",
    actCard1Text:
      "We curate programs from Renaissance to High Baroque, presented with historically informed approaches and international guest artists.",
    actCard1Tag: "Dani Barokne Muzike",
    actCard2Title: "Education",
    actCard2Text:
      "Masterclasses, workshops, and ensemble training. We support young musicians with mentorship and access to baroque instruments when possible.",
    actCard2Tag: "Novosadska Barokna Akademija",
    actCard3Title: "Research & Heritage",
    actCard3Text:
      "We explore repertoire from manuscript sources, connect music with historical sites, and create projects that leave long-term cultural value.",
    actCard3Tag: "Residencies · EU projects",

    // EVENTS
    eventsTitle: "Events",
    eventsIntro: "Add upcoming concerts here. Link to your ticketing platform.",
    eventsMonthMar: "Mar",
    eventsMonthMay: "May",
    event1Title: "Early Music Day — Concert",
    event1Text: "Public concert in Novi Sad (details on the project page).",
    event2Title: "Bridge Cantata — Opening performance",
    event2Text: "Bach BWV 106 + new commissioned work (details soon).",
    eventLink: "Details →",
    eventsNote: "Want an archive? We can turn this into a filterable list by year.",

    // MEDIA
    mediaTitle: "Media",
    mediaIntro: "Photos, videos, and press materials.",
    mediaPhotosTitle: "Photos",
    mediaPhotosText: "Add a gallery (we can build a lightbox).",
    mediaVideoTitle: "Video",
    mediaVideoText: "Embed YouTube/Vimeo links here.",
    mediaPressTitle: "Press kit",
    mediaPressText: "Add a downloadable PDF with bio, logos, and photos.",

    // SUPPORT
    supportTitle: "Support VEMA",
    supportIntro:
      "Your support helps us commission new work, host guest artists, and create educational opportunities in the region.",
    supportWaysTitle: "Ways to support",
    supportWay1: "Donations (individual)",
    supportWay2: "Sponsorship (companies)",
    supportWay3: "Partnerships & in-kind support (venues, logistics, media)",
    supportContactTitle: "Let’s talk",
    supportContactText:
      "Send us a message and we’ll share sponsorship options that fit your budget.",
    supportBtn: "Contact us",

    // CONTACT
    contactTitle: "Contact",
    contactIntro: "For collaborations, concerts, education, and partnerships.",
    contactEmailTitle: "Email",
    contactLocationTitle: "Location",
    contactSocialTitle: "Social",
    contactSocialText: "Add links to Instagram / Facebook / YouTube here.",
    contactFormTitle: "Message",
    contactName: "Name",
    contactEmail: "Email",
    contactMsg: "Message",
    contactSend: "Send",
    contactFormNote:
      "This form is currently non-functional (safe placeholder). We’ll connect it to a free form service next.",

    // FOOTER
    brandSubtitle: "Vojvodinian Early Music Association",
    backToTop: "Back to top ↑"
  }
};

function setYear() {
  const y = document.getElementById("year");
  if (y) y.textContent = new Date().getFullYear();
}

function setupNavToggle() {
  const toggle = document.getElementById("navToggle");
  const menu = document.getElementById("navMenu");
  if (!toggle || !menu) return;

  toggle.addEventListener("click", () => {
    const isOpen = menu.classList.toggle("open");
    toggle.setAttribute("aria-expanded", String(isOpen));
  });
}

function applyLanguage(lang) {
  const dict = I18N[lang] || I18N.sr;
  document.documentElement.setAttribute("lang", lang);

  document.querySelectorAll("[data-i18n]").forEach((el) => {
    const key = el.getAttribute("data-i18n");
    if (key && dict[key] != null) el.textContent = dict[key];
  });

  try { localStorage.setItem("vema_lang", lang); } catch (e) {}

  document.querySelectorAll(".lang-btn").forEach((btn) => {
    btn.classList.toggle("active", btn.dataset.lang === lang);
  });
}

function setupLanguageSwitch() {
  const btns = document.querySelectorAll(".lang-btn");
  if (!btns.length) return;

  btns.forEach((b) => b.addEventListener("click", () => applyLanguage(b.dataset.lang)));

  let saved = "sr";
  try { saved = localStorage.getItem("vema_lang") || "sr"; } catch (e) {}
  applyLanguage(saved);
}

document.addEventListener("DOMContentLoaded", () => {
  setYear();
  setupNavToggle();
  setupLanguageSwitch();
});
